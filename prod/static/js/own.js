"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function qs(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function qsAll(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)}function getParent(e,t){for(;e&&e.parentNode;)if((e=e.parentNode).classList&&e.classList.contains(t))return e;return!1}window.onload=function(){return qs("body").classList.add("page-loaded")},navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&qs("body").classList.add("ios"),document.addEventListener("DOMContentLoaded",function(e){window.site={},window.site.form={init:function(){var t=this,e=qsAll("form"),i=qsAll(".js-phone"),n=qsAll(".form__field-input, .form__field-textarea"),r=!0,a=!1,s=void 0;try{for(var o,l=i[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value;$(c).mask("+7(999) 999-9999")}}catch(e){a=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw s}}var d=!0,u=!1,p=void 0;try{for(var w,v=function(){var e=w.value;""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty"),e.addEventListener("keyup",function(){""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty")})},f=n[Symbol.iterator]();!(d=(w=f.next()).done);d=!0)v()}catch(e){u=!0,p=e}finally{try{d||null==f.return||f.return()}finally{if(u)throw p}}var h=!0,y=!1,m=void 0;try{for(var b,g=e[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){b.value.addEventListener("submit",function(e){t.checkForm($(this))||e.preventDefault()})}}catch(e){y=!0,m=e}finally{try{h||null==g.return||g.return()}finally{if(y)throw m}}return this},checkForm:function(e){var t=!0;return e.find(".warning").removeClass("warning"),e.find("input, textarea, select").each(function(){if($(this).data("req"))switch($(this).data("type")){case"tel":/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"email":/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"checkbox_personal":$(this).is(":checked")||($(this).parents(".checkbox").addClass("warning"),t=!1);break;default:""===$.trim($(this).val())&&($(this).addClass("warning"),t=!1)}}),t}}.init(),window.site.obj={fadeOut:function(e,t,i){var n=2<arguments.length&&void 0!==i?i:null;if(e){var r,a=1;r="string"==typeof e||e instanceof String?document.querySelector(e):e;var s=setInterval(function(){a<=.1&&(clearInterval(s),r.style.display="none",n&&n()),r.style.opacity=a,r.style.filter="alpha(opacity="+100*a+")",a-=.1*a},t/50||20)}},fadeIn:function(e,t,i,n){var r=3<arguments.length&&void 0!==n?n:null;if(e){var a,s=.1,o=i||"block";(a="string"==typeof e||e instanceof String?document.querySelector(e):e).style.opacity=0,a.style.display=o;var l=setInterval(function(){1<=s&&(clearInterval(l),r&&r()),a.style.opacity=s,a.style.filter="alpha(opacity="+100*s+")",s+=.1*s},t/50||20)}},burger:function(){var t=this;qs(".nav");qs(".js-burger").addEventListener("click",function(){return this.classList.contains("header__burger--active")?(this.classList.remove("header__burger--active"),qs("body").classList.remove("blocekd"),t.fadeOut(".nav",300)):(this.classList.add("header__burger--active"),qs("body").classList.add("blocekd"),t.fadeIn(".nav",300)),!1}),qs(".js-close-nav").addEventListener("click",function(e){qs(".header__burger").classList.remove("header__burger--active"),t.fadeOut(".nav",300),e.preventDefault()})},anim:function(){var e,t=[".js-scroll-anim"];t.length&&(e=t,window.addEventListener("scroll",function(){e.length&&e.forEach(function(e){document.querySelectorAll(e).length&&document.querySelectorAll(e).forEach(function(e){!function(e){var t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;return t.bottom-.75*e.offsetHeight<=i&&t.right<=n}(e)||e.classList.add("start-animate")})})}))},swiperDirections:function(){new Swiper(".js-swiper-directions",{loop:!0,spaceBetween:12,slidesPerView:6,speed:500,mousewheel:!1,grabCursor:!1,keyboard:!1,simulateTouch:!1,allowSwipeToNext:!1,allowSwipeToPrev:!1,navigation:{nextEl:".directions .swiper-button-next",prevEl:".directions .swiper-button-prev"},breakpoints:{767:{slidesPerView:1},992:{slidesPerView:3},1365:{slidesPerView:5}}})},swiperIprod:function(){new Swiper(".js-swiper-iprod",{loop:!1,spaceBetween:32,slidesPerView:"auto",centeredSlides:!0,speed:1500,autoplay:{delay:7e3},navigation:{nextEl:".iprod .swiper-button-next",prevEl:".iprod .swiper-button-prev"},pagination:{el:".iprod .swiper-pagination",clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.params.autoplay.delay=1e4},15100),setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{767:{spaceBetween:8}}})},swiperInews:function(){new Swiper(".js-swiper-ipubl",{speed:1500,spaceBetween:32,slidesPerView:3,simulateTouch:!0,navigation:{nextEl:".ipubl .swiper-wall-next",prevEl:".ipubl .swiper-wall-prev"},breakpoints:{1280:{spaceBetween:8},1024:{slidesPerView:2,spaceBetween:32},767:{slidesPerView:1,spaceBetween:8}}})},swiperTabsProduct:function(){new Swiper(".js-swiper-product-vertical",{spaceBetween:32,slidesPerView:3,simulateTouch:!0,speed:1500,navigation:{nextEl:".itabs .swiper-button-next",prevEl:".itabs .swiper-button-prev"},pagination:{el:".itabs .swiper-pagination",clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{767:{spaceBetween:8}}})},swiperIhead:function(){function t(e){var i=e.querySelector("video");n&&n.length&&n.forEach(function(e){if(e.hasAttribute("data-stid")&&(clearTimeout(e.getAttribute("data-stid")),e.removeAttribute("data-stid")),e.pause(),i.isEqualNode(e))i.play();else{var t=setTimeout(function(){isNaN(e.duration)||(e.currentTime=0),e.removeAttribute("data-stid")},1500);e.setAttribute("data-stid",t)}})}var n;new Swiper(".js-swiper-ihead",{loop:!0,spaceBetween:0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:1e4},speed:1500,navigation:{nextEl:".ihead .swiper-button-next",prevEl:".ihead .swiper-button-prev"},on:{init:function(){n=_toConsumableArray(qsAll(".ihead video"));var e=this.slides[this.activeIndex];t(e)},slideChange:function(){var e=this.slides[this.activeIndex];t(e)}}})},swiperIgallery:function(){new Swiper(".js-swiper-igallery",{loop:!1,spaceBetween:0,slidesPerView:1,simulateTouch:!1,speed:1500,navigation:{nextEl:".igallery .swiper-button-next",prevEl:".igallery .swiper-button-prev"},pagination:{el:".igallery .swiper-pagination",clickable:!0},breakpoints:{767:{navigation:!1}},on:{init:function(){_toConsumableArray(qsAll(".igallery video"));this.slides[this.activeIndex]},slideChange:function(){this.slides[this.activeIndex]}}});if(qsAll(".js-player").length){var e=!0,t=!1,i=void 0;try{for(var n,r=qsAll(".js-player")[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var a=n.value;new Plyr(a,{controls:["play","progress","current-time","mute","volume","fullscreen"],loadSprite:!1})}}catch(e){t=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}Array.from(document.querySelectorAll(".js-player")).map(function(e){return new Plyr(e)})}},init:function(){var t;[".js-scroll-anim"].length&&this.anim(),qs(".js-swiper-ihead")&&this.swiperIhead(),qs(".js-swiper-iprod")&&this.swiperIprod(),qs(".js-swiper-product-vertical")&&this.swiperTabsProduct(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-ipubl")&&this.swiperInews();try{t=new Event("scroll")}catch(e){(t=document.createEvent("Event")).initEvent("scroll",!1,!1)}return window.dispatchEvent(t),this}}.init()});
//# sourceMappingURL=own.js.map
