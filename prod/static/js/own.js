"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function qs(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function qsAll(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)}function getParent(e,t){for(;e&&e.parentNode;)if((e=e.parentNode).classList&&e.classList.contains(t))return e;return!1}var iheadVideos,igalleryVideos,pauseVideos=function(e,t,i){var s=i||0,a=t,r=e.querySelector("video");a&&a.length&&a.forEach(function(e){if(e.hasAttribute("data-stid")&&(clearTimeout(e.getAttribute("data-stid")),e.removeAttribute("data-stid")),e.pause(),r.isEqualNode(e))r.play();else{var t=setTimeout(function(){isNaN(e.duration)||(e.currentTime=0),e.removeAttribute("data-stid")},s);e.setAttribute("data-stid",t)}})};window.onload=function(){return qs("body").classList.add("page-loaded")},navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&qs("body").classList.add("ios"),document.addEventListener("DOMContentLoaded",function(e){window.site={},window.site.form={init:function(){var t=this,e=qsAll("form"),i=qsAll(".js-phone"),s=qsAll(".form__field-input, .form__field-textarea"),a=!0,r=!1,n=void 0;try{for(var l,o=i[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var c=l.value;$(c).mask("+7(999) 999-9999")}}catch(e){r=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}var d=!0,u=!1,v=void 0;try{for(var h,f=function(){var e=h.value;""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty"),e.addEventListener("keyup",function(){""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty")})},p=s[Symbol.iterator]();!(d=(h=p.next()).done);d=!0)f()}catch(e){u=!0,v=e}finally{try{d||null==p.return||p.return()}finally{if(u)throw v}}var w=!0,m=!1,y=void 0;try{for(var b,_=e[Symbol.iterator]();!(w=(b=_.next()).done);w=!0){b.value.addEventListener("submit",function(e){t.checkForm($(this))||e.preventDefault()})}}catch(e){m=!0,y=e}finally{try{w||null==_.return||_.return()}finally{if(m)throw y}}return this},checkForm:function(e){var t=!0;return e.find(".warning").removeClass("warning"),e.find("input, textarea, select").each(function(){if($(this).data("req"))switch($(this).data("type")){case"tel":/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"email":/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"checkbox_personal":$(this).is(":checked")||($(this).parents(".checkbox").addClass("warning"),t=!1);break;default:""===$.trim($(this).val())&&($(this).addClass("warning"),t=!1)}}),t}}.init(),window.site.obj={fadeOut:function(e,t,i){var s=2<arguments.length&&void 0!==i?i:null;if(e){var a,r=1;a="string"==typeof e||e instanceof String?document.querySelector(e):e;var n=setInterval(function(){r<=.1&&(clearInterval(n),a.style.display="none",s&&s()),a.style.opacity=r,a.style.filter="alpha(opacity="+100*r+")",r-=.1*r},t/50||20)}},fadeIn:function(e,t,i,s){var a=3<arguments.length&&void 0!==s?s:null;if(e){var r,n=.1,l=i||"block";(r="string"==typeof e||e instanceof String?document.querySelector(e):e).style.opacity=0,r.style.display=l;var o=setInterval(function(){1<=n&&(clearInterval(o),a&&a()),r.style.opacity=n,r.style.filter="alpha(opacity="+100*n+")",n+=.1*n},t/50||20)}},burger:function(){var t=this;qs(".nav");qs(".js-burger").addEventListener("click",function(){return this.classList.contains("header__burger--active")?(this.classList.remove("header__burger--active"),qs("body").classList.remove("blocekd"),t.fadeOut(".nav",300)):(this.classList.add("header__burger--active"),qs("body").classList.add("blocekd"),t.fadeIn(".nav",300)),!1}),qs(".js-close-nav").addEventListener("click",function(e){qs(".header__burger").classList.remove("header__burger--active"),t.fadeOut(".nav",300),e.preventDefault()})},anim:function(){var e,t=[".js-scroll-anim"];t.length&&(e=t,window.addEventListener("scroll",function(){e.length&&e.forEach(function(e){document.querySelectorAll(e).length&&document.querySelectorAll(e).forEach(function(e){!function(e){var t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;return window.innerWidth||document.documentElement.clientWidth,t.top<=.82*i}(e)||e.classList.add("start-animate")})})}))},fixedHeader:function(){var e=qs(".header"),t=e.offsetHeight;window.addEventListener("scroll",function(){window.pageYOffset>t?e.classList.add("header--sticky"):e.classList.remove("header--sticky")})},animDecor:function(){var r=qsAll(".js-anim-decor");window.addEventListener("scroll",function(){if(animFlag){var e=!0,t=!1,i=void 0;try{for(var s,a=r[Symbol.iterator]();!(e=(s=a.next()).done);e=!0)s.value}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}})},swiperDirections:function(){new Swiper(".js-swiper-directions",{loop:!0,spaceBetween:12,slidesPerView:6,speed:500,mousewheel:!1,grabCursor:!1,keyboard:!1,simulateTouch:!1,allowSwipeToNext:!1,allowSwipeToPrev:!1,navigation:{nextEl:".directions .swiper-button-next",prevEl:".directions .swiper-button-prev"},breakpoints:{767:{slidesPerView:1},992:{slidesPerView:3},1365:{slidesPerView:5}}})},swiperIprod:function(){new Swiper(".js-swiper-iprod",{loop:!1,spaceBetween:32,slidesPerView:"auto",centeredSlides:!0,speed:1500,autoplay:{delay:7e3},navigation:{nextEl:".iprod .swiper-button-next",prevEl:".iprod .swiper-button-prev"},pagination:{el:".iprod .swiper-pagination",clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.params.autoplay.delay=1e4},15100),setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{767:{spaceBetween:8}}})},swiperInews:function(){new Swiper(".js-swiper-ipubl",{speed:1500,spaceBetween:32,slidesPerView:3,simulateTouch:!0,navigation:{nextEl:".ipubl .swiper-wall-next",prevEl:".ipubl .swiper-wall-prev"},breakpoints:{1280:{spaceBetween:8},1024:{slidesPerView:2,spaceBetween:32},767:{slidesPerView:1,spaceBetween:8}}})},swiperIhead:function(){new Swiper(".js-swiper-ihead",{loop:!0,spaceBetween:0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:1e4},speed:1500,navigation:{nextEl:".ihead .swiper-button-next",prevEl:".ihead .swiper-button-prev"},on:{init:function(){iheadVideos=_toConsumableArray(qsAll(".ihead video"));var e=this.slides[this.activeIndex];pauseVideos(e,iheadVideos,1500)},slideChange:function(){var e=this.slides[this.activeIndex];pauseVideos(e,iheadVideos,1500)}}})},swiperIgallery:function(){new Swiper(".js-swiper-igallery",{loop:!1,spaceBetween:0,slidesPerView:1,simulateTouch:!1,speed:1500,navigation:{nextEl:".igallery .swiper-button-next",prevEl:".igallery .swiper-button-prev"},pagination:{el:".igallery .swiper-pagination",clickable:!0},breakpoints:{767:{navigation:!1}},on:{init:function(){igalleryVideos=_toConsumableArray(qsAll(".igallery video"));this.slides[this.activeIndex]},slideChange:function(){this.slides[this.activeIndex]}}});if(qsAll(".js-player").length){var e=!0,t=!1,i=void 0;try{for(var s,a=qsAll(".js-player")[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var r=s.value;new Plyr(r,{controls:["play","progress","current-time","mute","volume","fullscreen"],loadSprite:!1,playsInline:!0})}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}Array.from(qsAll(".js-player")).map(function(e){return new Plyr(e)})}qsAll(".igallery__slide-play").length&&function(){var l=qsAll(".igallery__slide-play"),e=!0,t=!1,i=void 0;try{for(var s,a=l[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){s.value.addEventListener("click",function(e){var t=getParent(this,"igallery__slide-video"),i=!0,s=!1,a=void 0;try{for(var r,n=l[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){r.value.classList.add("igallery__slide-video--hide-controls")}}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}qs(".swiper-slide-active .js-player").plyr.play(),t.classList.remove("igallery__slide-video--hide-controls"),e.preventDefault()})}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}()},swiperTabsProduct:function(){var e=!0,t=!1,i=void 0;try{for(var s,a=qsAll(".js-swiper-product-vertical")[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var r=s.value;new Swiper(r,{spaceBetween:32,slidesPerView:3,simulateTouch:!0,speed:1500,navigation:{nextEl:qs(".swiper-button-next",r),prevEl:qs(".swiper-button-prev",r)},pagination:{el:qs(".swiper-pagination",r),clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{600:{slidesPerView:1,spaceBetween:8},767:{spaceBetween:8},1160:{slidesPerView:2}}})}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}},headerTabs:function(){var l=qs("body"),o=qs(".header"),e=qs(".js-close-header-tabs")||!1,t=qs(".js-close-nav")||!1;function a(){var e=qs(".js-top-action.nav__list-item-href--active")||!1,t=qs(".header__tabs-item.header__tabs-item--active")||!1,i=qs(".header__submenu-btn-mobile.active")||!1,s=qs(".header__submenu-list.show")||!1,a=qs(".nav")||!1,r=qs(".nav__top-mobile")||!1,n=qs(".nav__top-href")||!1;l.classList.remove("blocked"),o.classList.add("header--hide-tabs"),setTimeout(function(){o.classList.remove("header--show-tabs","header--hide-tabs"),e&&e.classList.remove("nav__list-item-href--active"),t&&t.classList.remove("header__tabs-item--active"),a&&a.classList.remove("show"),i&&i.classList.remove("active"),s&&s.classList.remove("show"),n&&(n.innerText=""),r&&r.classList.remove("show-btns")},600)}var i=!0,s=!1,r=void 0;try{for(var n,c=qsAll(".js-top-action")[Symbol.iterator]();!(i=(n=c.next()).done);i=!0){n.value.addEventListener("click",function(e){var t=this.dataset.action,i=qs(".js-top-action.nav__list-item-href--active")||!1,s=qs(".header__tabs-item.header__tabs-item--active")||!1;l.classList.add("blocked"),o.classList.add("header--show-tabs"),this.classList.contains("nav__list-item-href--active")?a():(i&&i.classList.remove("nav__list-item-href--active"),this.classList.add("nav__list-item-href--active"),s&&s.classList.remove("header__tabs-item--active"),qs('.header__tabs-item[data-tabs-item="'+t+'"]').classList.add("header__tabs-item--active"),qs(".nav__top-href")&&(qs(".nav__top-href").innerText=this.innerText),qs(".nav__top-mobile")&&qs(".nav__top-mobile").classList.add("show-btns")),e.preventDefault()})}}catch(e){s=!0,r=e}finally{try{i||null==c.return||c.return()}finally{if(s)throw r}}if(1160<window.innerWidth){var d=!0,u=!1,v=void 0;try{for(var h,f=qsAll(".js-submenu-scroll")[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var p=h.value;p.classList.contains("ps")||new PerfectScrollbar(p,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20})}}catch(e){u=!0,v=e}finally{try{d||null==f.return||f.return()}finally{if(u)throw v}}}else{var w=!0,m=!1,y=void 0;try{for(var b,_=qsAll(".js-submenu-scroll")[Symbol.iterator]();!(w=(b=_.next()).done);w=!0){var q=b.value;q.classList.contains("ps")&&q.perfectScrollbar.destroy()}}catch(e){m=!0,y=e}finally{try{w||null==_.return||_.return()}finally{if(m)throw y}}}if(e&&e.addEventListener("click",function(e){a(),e.preventDefault}),t&&t.addEventListener("click",function(e){a(),e.preventDefault}),qsAll(".js-open-sublist")){var g=!0,L=!1,E=void 0;try{for(var j,x=qsAll(".js-open-sublist")[Symbol.iterator]();!(g=(j=x.next()).done);g=!0){j.value.addEventListener("click",function(e){var t=qs(".header__submenu-list",getParent(this,"header__submenu"));this.classList.contains("active")?(this.classList.remove("active"),t.classList.remove("show")):(qs(".header__submenu-btn-mobile.active")&&qs(".header__submenu-btn-mobile.active").classList.remove("active"),qs(".header__submenu-list.show")&&qs(".header__submenu-list.show").classList.remove("show"),this.classList.add("active"),t.classList.add("show")),e.preventDefault()})}}catch(e){L=!0,E=e}finally{try{g||null==x.return||x.return()}finally{if(L)throw E}}}qs(".js-burger")&&qs(".js-burger").addEventListener("click",function(e){l.classList.add("blocked"),qs(".nav").classList.add("show"),e.preventDefault()}),qs(".js-back-nav")&&qs(".js-back-nav").addEventListener("click",function(e){var t=qs(".js-top-action.nav__list-item-href--active")||!1,i=qs(".header__tabs-item.header__tabs-item--active")||!1,s=qs(".header__submenu-btn-mobile.active")||!1,a=qs(".header__submenu-list.show")||!1,r=qs(".nav__top-mobile")||!1,n=qs(".nav__top-href")||!1;o.classList.add("header--hide-tabs"),setTimeout(function(){o.classList.remove("header--show-tabs","header--hide-tabs"),t&&t.classList.remove("nav__list-item-href--active"),i&&i.classList.remove("header__tabs-item--active"),s&&s.classList.remove("active"),a&&a.classList.remove("show"),n&&(n.innerText=""),r&&r.classList.remove("show-btns")},600),e.preventDefault()})},tabs:function(){var o=!0,c=qs(".js-tabs"),e=qsAll(".itabs__nav-item",c),d=qsAll(".itabs__list-item",c),u=qsAll("video",c),t=!0,i=!1,s=void 0;try{for(var a,r=function(){var l=a.value;l.addEventListener("click",function(e){var t=this.dataset.tabsNav;if(!this.classList.contains("itabs__nav-item--active")&&o){o=!1,pauseVideos(l,u),qs(".itabs__nav-item.itabs__nav-item--active",c).classList.remove("itabs__nav-item--active"),this.classList.add("itabs__nav-item--active");var i=!0,s=!1,a=void 0;try{for(var r,n=d[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){r.value.classList.remove("itabs__list-item--active")}}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}qs('.itabs__list-item[data-tabs-item="'+t+'"]').classList.add("itabs__list-item--active"),o=!0}e.preventDefault()})},n=e[Symbol.iterator]();!(t=(a=n.next()).done);t=!0)r()}catch(e){i=!0,s=e}finally{try{t||null==n.return||n.return()}finally{if(i)throw s}}},init:function(){var t,i;qs(".header")&&this.fixedHeader(),qs(".js-swiper-ihead")&&this.swiperIhead(),qs(".js-swiper-iprod")&&this.swiperIprod(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-ipubl")&&this.swiperInews(),qs(".js-swiper-product-vertical")&&this.swiperTabsProduct(),qs(".js-tabs")&&this.tabs(),qs(".header__tabs")&&this.headerTabs();try{t=new Event("resize")}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}window.dispatchEvent(t);try{i=new Event("scroll")}catch(e){(i=document.createEvent("Event")).initEvent("scroll",!1,!1)}return window.dispatchEvent(i),this}}.init()});
//# sourceMappingURL=own.js.map
