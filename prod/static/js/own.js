"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function qs(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function qsAll(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)}function getParent(e,t){for(;e&&e.parentNode;)if((e=e.parentNode).classList&&e.classList.contains(t))return e;return!1}var iheadVideos,igalleryVideos,pauseVideos=function(e,t,i){var a=i||0,r=t,s=e.querySelector("video");r&&r.length&&r.forEach(function(e){if(e.hasAttribute("data-stid")&&(clearTimeout(e.getAttribute("data-stid")),e.removeAttribute("data-stid")),e.pause(),s.isEqualNode(e))s.play();else{var t=setTimeout(function(){isNaN(e.duration)||(e.currentTime=0),e.removeAttribute("data-stid")},a);e.setAttribute("data-stid",t)}})};window.onload=function(){return qs("body").classList.add("page-loaded")},navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&qs("body").classList.add("ios"),document.addEventListener("DOMContentLoaded",function(e){window.site={},window.site.form={init:function(){var t=this,e=qsAll("form"),i=qsAll(".js-phone"),a=qsAll(".form__field-input, .form__field-textarea"),r=!0,s=!1,n=void 0;try{for(var l,o=i[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var c=l.value;$(c).mask("+7(999) 999-9999")}}catch(e){s=!0,n=e}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}var d=!0,u=!1,v=void 0;try{for(var f,p=function(){var e=f.value;""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty"),e.addEventListener("keyup",function(){""!=e.value?e.classList.add("no-empty"):e.classList.remove("no-empty")})},h=a[Symbol.iterator]();!(d=(f=h.next()).done);d=!0)p()}catch(e){u=!0,v=e}finally{try{d||null==h.return||h.return()}finally{if(u)throw v}}var y=!0,w=!1,m=void 0;try{for(var b,_=e[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){b.value.addEventListener("submit",function(e){t.checkForm($(this))||e.preventDefault()})}}catch(e){w=!0,m=e}finally{try{y||null==_.return||_.return()}finally{if(w)throw m}}return this},checkForm:function(e){var t=!0;return e.find(".warning").removeClass("warning"),e.find("input, textarea, select").each(function(){if($(this).data("req"))switch($(this).data("type")){case"tel":/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"email":/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test($(this).val())||($(this).addClass("warning"),t=!1);break;case"checkbox_personal":$(this).is(":checked")||($(this).parents(".checkbox").addClass("warning"),t=!1);break;default:""===$.trim($(this).val())&&($(this).addClass("warning"),t=!1)}}),t}}.init(),window.site.obj={fadeOut:function(e,t,i){var a=2<arguments.length&&void 0!==i?i:null;if(e){var r,s=1;r="string"==typeof e||e instanceof String?document.querySelector(e):e;var n=setInterval(function(){s<=.1&&(clearInterval(n),r.style.display="none",a&&a()),r.style.opacity=s,r.style.filter="alpha(opacity="+100*s+")",s-=.1*s},t/50||20)}},fadeIn:function(e,t,i,a){var r=3<arguments.length&&void 0!==a?a:null;if(e){var s,n=.1,l=i||"block";(s="string"==typeof e||e instanceof String?document.querySelector(e):e).style.opacity=0,s.style.display=l;var o=setInterval(function(){1<=n&&(clearInterval(o),r&&r()),s.style.opacity=n,s.style.filter="alpha(opacity="+100*n+")",n+=.1*n},t/50||20)}},burger:function(){var t=this;qs(".nav");qs(".js-burger").addEventListener("click",function(){return this.classList.contains("header__burger--active")?(this.classList.remove("header__burger--active"),qs("body").classList.remove("blocekd"),t.fadeOut(".nav",300)):(this.classList.add("header__burger--active"),qs("body").classList.add("blocekd"),t.fadeIn(".nav",300)),!1}),qs(".js-close-nav").addEventListener("click",function(e){qs(".header__burger").classList.remove("header__burger--active"),t.fadeOut(".nav",300),e.preventDefault()})},anim:function(){var e,t=[".js-scroll-anim"];t.length&&(e=t,window.addEventListener("scroll",function(){e.length&&e.forEach(function(e){document.querySelectorAll(e).length&&document.querySelectorAll(e).forEach(function(e){!function(e){var t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;return window.innerWidth||document.documentElement.clientWidth,t.top<=.82*i}(e)||e.classList.add("start-animate")})})}))},fixedHeader:function(){var e=qs(".header"),t=e.offsetHeight;window.addEventListener("scroll",function(){window.pageYOffset>t?e.classList.add("header--sticky"):e.classList.remove("header--sticky")})},animDecor:function(){var s=qsAll(".js-anim-decor");window.addEventListener("scroll",function(){if(animFlag){var e=!0,t=!1,i=void 0;try{for(var a,r=s[Symbol.iterator]();!(e=(a=r.next()).done);e=!0)a.value}catch(e){t=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}}})},swiperDirections:function(){new Swiper(".js-swiper-directions",{loop:!0,spaceBetween:12,slidesPerView:6,speed:500,mousewheel:!1,grabCursor:!1,keyboard:!1,simulateTouch:!1,allowSwipeToNext:!1,allowSwipeToPrev:!1,navigation:{nextEl:".directions .swiper-button-next",prevEl:".directions .swiper-button-prev"},breakpoints:{767:{slidesPerView:1},992:{slidesPerView:3},1365:{slidesPerView:5}}})},swiperIprod:function(){new Swiper(".js-swiper-iprod",{loop:!1,spaceBetween:32,slidesPerView:"auto",centeredSlides:!0,speed:1500,autoplay:{delay:7e3},navigation:{nextEl:".iprod .swiper-button-next",prevEl:".iprod .swiper-button-prev"},pagination:{el:".iprod .swiper-pagination",clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.params.autoplay.delay=1e4},15100),setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{767:{spaceBetween:8}}})},swiperInews:function(){new Swiper(".js-swiper-ipubl",{speed:1500,spaceBetween:32,slidesPerView:3,simulateTouch:!0,navigation:{nextEl:".ipubl .swiper-wall-next",prevEl:".ipubl .swiper-wall-prev"},breakpoints:{1280:{spaceBetween:8},1024:{slidesPerView:2,spaceBetween:32},767:{slidesPerView:1,spaceBetween:8}}})},swiperIhead:function(){new Swiper(".js-swiper-ihead",{loop:!0,spaceBetween:0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:1e4},speed:1500,navigation:{nextEl:".ihead .swiper-button-next",prevEl:".ihead .swiper-button-prev"},on:{init:function(){iheadVideos=_toConsumableArray(qsAll(".ihead video"));var e=this.slides[this.activeIndex];pauseVideos(e,iheadVideos,1500)},slideChange:function(){var e=this.slides[this.activeIndex];pauseVideos(e,iheadVideos,1500)}}})},swiperIgallery:function(){new Swiper(".js-swiper-igallery",{loop:!1,spaceBetween:0,slidesPerView:1,simulateTouch:!1,speed:1500,navigation:{nextEl:".igallery .swiper-button-next",prevEl:".igallery .swiper-button-prev"},pagination:{el:".igallery .swiper-pagination",clickable:!0},breakpoints:{767:{navigation:!1}},on:{init:function(){igalleryVideos=_toConsumableArray(qsAll(".igallery video"));this.slides[this.activeIndex]},slideChange:function(){this.slides[this.activeIndex]}}});if(qsAll(".js-player").length){var e=!0,t=!1,i=void 0;try{for(var a,r=qsAll(".js-player")[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var s=a.value;new Plyr(s,{controls:["play","progress","current-time","mute","volume","fullscreen"],loadSprite:!1,playsInline:!0})}}catch(e){t=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}Array.from(qsAll(".js-player")).map(function(e){return new Plyr(e)})}qsAll(".igallery__slide-play").length&&function(){var l=qsAll(".igallery__slide-play"),e=!0,t=!1,i=void 0;try{for(var a,r=l[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){a.value.addEventListener("click",function(e){var t=getParent(this,"igallery__slide-video"),i=!0,a=!1,r=void 0;try{for(var s,n=l[Symbol.iterator]();!(i=(s=n.next()).done);i=!0){s.value.classList.add("igallery__slide-video--hide-controls")}}catch(e){a=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}qs(".swiper-slide-active .js-player").plyr.play(),t.classList.remove("igallery__slide-video--hide-controls"),e.preventDefault()})}}catch(e){t=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}}()},swiperTabsProduct:function(){var e=!0,t=!1,i=void 0;try{for(var a,r=qsAll(".js-swiper-product-vertical")[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var s=a.value;new Swiper(s,{spaceBetween:32,slidesPerView:3,simulateTouch:!0,speed:1500,navigation:{nextEl:qs(".swiper-button-next",s),prevEl:qs(".swiper-button-prev",s)},pagination:{el:qs(".swiper-pagination",s),clickable:!0},on:{init:function(){var e=this;setTimeout(function(){e.$el[0].classList.add("start-anim")},200)}},breakpoints:{767:{spaceBetween:8}}})}}catch(e){t=!0,i=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}},headerTabs:function(){var r=qs("body"),s=qs(".header"),e=qs(".js-close-header-tabs")||!1;function n(){r.classList.remove("blocked"),s.classList.add("header--hide-tabs"),setTimeout(function(){s.classList.remove("header--show-tabs","header--hide-tabs"),qs(".js-top-action.nav__list-item-href--active").classList.remove("nav__list-item-href--active"),qs(".header__tabs-item.header__tabs-item--active").classList.remove("header__tabs-item--active")},600)}var t=!0,i=!1,a=void 0;try{for(var l,o=qsAll(".js-top-action")[Symbol.iterator]();!(t=(l=o.next()).done);t=!0){l.value.addEventListener("click",function(e){var t=this.dataset.action,i=qs(".js-top-action.nav__list-item-href--active")||!1,a=qs(".header__tabs-item.header__tabs-item--active")||!1;r.classList.add("blocked"),s.classList.add("header--show-tabs"),this.classList.contains("nav__list-item-href--active")?n():(i&&i.classList.remove("nav__list-item-href--active"),this.classList.add("nav__list-item-href--active"),a&&a.classList.remove("header__tabs-item--active"),qs('.header__tabs-item[data-tabs-item="'+t+'"]').classList.add("header__tabs-item--active")),e.preventDefault()})}}catch(e){i=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}if(1023<window.innerWidth){var c=!0,d=!1,u=void 0;try{for(var v,f=qsAll(".js-submenu-scroll")[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var p=v.value;p.classList.contains("ps")||new PerfectScrollbar(p,{wheelSpeed:2,wheelPropagation:!0,minScrollbarLength:20})}}catch(e){d=!0,u=e}finally{try{c||null==f.return||f.return()}finally{if(d)throw u}}}else{var h=!0,y=!1,w=void 0;try{for(var m,b=qsAll(".js-submenu-scroll")[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){m.value.perfectScrollbar.destroy()}}catch(e){y=!0,w=e}finally{try{h||null==b.return||b.return()}finally{if(y)throw w}}}e&&e.addEventListener("click",function(e){n(),e.preventDefault})},tabs:function(){var o=!0,c=qs(".js-tabs"),e=qsAll(".itabs__nav-item",c),d=qsAll(".itabs__list-item",c),u=qsAll("video",c),t=!0,i=!1,a=void 0;try{for(var r,s=function(){var l=r.value;l.addEventListener("click",function(e){var t=this.dataset.tabsNav;if(!this.classList.contains("itabs__nav-item--active")&&o){o=!1,pauseVideos(l,u),qs(".itabs__nav-item.itabs__nav-item--active",c).classList.remove("itabs__nav-item--active"),this.classList.add("itabs__nav-item--active");var i=!0,a=!1,r=void 0;try{for(var s,n=d[Symbol.iterator]();!(i=(s=n.next()).done);i=!0){s.value.classList.remove("itabs__list-item--active")}}catch(e){a=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(a)throw r}}qs('.itabs__list-item[data-tabs-item="'+t+'"]').classList.add("itabs__list-item--active"),o=!0}e.preventDefault()})},n=e[Symbol.iterator]();!(t=(r=n.next()).done);t=!0)s()}catch(e){i=!0,a=e}finally{try{t||null==n.return||n.return()}finally{if(i)throw a}}},init:function(){var t,i;qs(".header")&&this.fixedHeader(),qs(".js-swiper-ihead")&&this.swiperIhead(),qs(".js-swiper-iprod")&&this.swiperIprod(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-igallery")&&this.swiperIgallery(),qs(".js-swiper-ipubl")&&this.swiperInews(),qs(".js-swiper-product-vertical")&&this.swiperTabsProduct(),qs(".js-tabs")&&this.tabs(),qs(".header__tabs")&&this.headerTabs();try{t=new Event("resize")}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}window.dispatchEvent(t);try{i=new Event("scroll")}catch(e){(i=document.createEvent("Event")).initEvent("scroll",!1,!1)}return window.dispatchEvent(i),this}}.init()});
//# sourceMappingURL=own.js.map
